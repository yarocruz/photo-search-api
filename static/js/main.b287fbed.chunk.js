(this["webpackJsonpphoto-search-api"]=this["webpackJsonpphoto-search-api"]||[]).push([[0],{15:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(0),a=n.n(r),s=n(8),o=n.n(s),i=(n(15),n(2)),u=n(6),l=n.n(u),b=n(7),j=n(9);n(17);var h=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(""),o=Object(i.a)(s,2),u=o[0],h=o[1],f=Object(r.useState)(1),O=Object(i.a)(f,2),d=O[0],p=O[1],g=function(e,t){var n=Object(r.useState)(!0),c=Object(i.a)(n,2),a=c[0],s=c[1],o=Object(r.useState)(!1),u=Object(i.a)(o,2),h=u[0],f=u[1],O=Object(r.useState)([]),d=Object(i.a)(O,2),p=d[0],g=d[1],m=Object(r.useState)(!1),x=Object(i.a)(m,2),v=x[0],S=x[1];return Object(r.useEffect)((function(){g([])}),[e]),Object(r.useEffect)((function(){s(!0),f(!1);var n=new AbortController,c=n.signal;return fetch("".concat("https://api.unsplash.com/search/photos/?client_id","=").concat("BJD0Ft5i5Qwk6bmbM5zaeFqR3c8uNVz0DZRBxojk4fo","&page=").concat(t,"&content_filter=high&query=").concat(e),{method:"get",signal:c}).then(function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,g((function(e){return[].concat(Object(b.a)(e),Object(b.a)(n.results))})),S(n.results.length>0),console.log(n.results.length),s(!1),!t.ok){e.next=11;break}console.log(n),e.next=12;break;case 11:return e.abrupt("return",Promise.reject(n));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){c.aborted||(f(!0),console.log(e))})),function(){return n.abort()}}),[e,t]),{loading:a,error:h,photos:p,hasMore:v}}(n,d),m=g.photos,x=g.error,v=g.hasMore,S=g.loading,k=Object(r.useRef)(),w=Object(r.useCallback)((function(e){S||(k.current&&k.current.disconnect(),k.current=new IntersectionObserver((function(e){e[0].isIntersecting&&v&&p((function(e){return e+1}))})),e&&k.current.observe(e))}),[S,v]);return Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"form-wrap",children:[Object(c.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),a(u),h(""),p(1)},children:[Object(c.jsx)("input",{className:"input-search",value:u,onChange:function(e){h(e.target.value)},type:"text",placeholder:"Search for a Photo"}),Object(c.jsx)("button",{className:"search-button",type:"submit",children:Object(c.jsx)("i",{className:"fa fa-search",children:"Search"})})]}),n?Object(c.jsx)("p",{children:"Search results for ".concat(n)}):Object(c.jsx)("p",{children:"Please enter a search term"})]}),m.map((function(e,t){return m.length===t+1?Object(c.jsx)("img",{ref:w,src:e.urls.full,alt:e.alt_description,style:{maxWidth:"100%"}},e.id):Object(c.jsx)("img",{src:e.urls.full,alt:e.alt_description,style:{maxWidth:"100%"}},e.id)})),Object(c.jsx)("div",{children:S&&"Loading"}),Object(c.jsx)("div",{children:x&&"Error"})]})},f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,19)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};o.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(h,{})}),document.getElementById("root")),f()}},[[18,1,2]]]);
//# sourceMappingURL=main.b287fbed.chunk.js.map